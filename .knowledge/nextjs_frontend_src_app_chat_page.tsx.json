{"is_source_file": true, "format": "TypeScript (TSX)", "description": "This file defines the main chat page component for a Next.js application. It manages chat message state, handles user input, interacts with an API endpoint to get chat responses, and renders the chat interface including message display and input components.", "external_files": ["@/components/AppShell", "@/components/Chat/MessageBubble", "@/components/Chat/Composer", "@/lib/api", "@/lib/security"], "external_methods": ["api.post", "sanitizeInput"], "published": [], "classes": [], "methods": [{"name": "ChatPage", "description": "Main functional component rendering the chat interface, managing message state, and handling user interactions."}, {"name": "handleSend", "description": "Handles sending a user message, sanitizes input, updates message list, and fetches response from API."}, {"name": "onAttach", "description": "Handles file attachment events, updating messages to include attachment info."}], "calls": ["api.post", "sanitizeInput", "endRef.current?.scrollIntoView"], "search-terms": ["Next.js chat page", "React chat component", "message state management", "API call /api/chat", "file attachment handler"], "state": 2, "file_id": 70, "knowledge_revision": 211, "git_revision": "a7245b195139975057632562ee4b7192fa2365d3", "revision_history": [{"177": ""}, {"211": "a7245b195139975057632562ee4b7192fa2365d3"}], "ctags": [], "hash": "e547b7dc8fd5643204fdac82b135f8a1", "format-version": 4, "code-base-name": "nextjs_frontend", "filename": "nextjs_frontend/src/app/chat/page.tsx"}